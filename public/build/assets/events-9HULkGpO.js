window.Echo.private("optimus-pro.signals").listenToAll((b,w)=>{if(console.log(b),b.includes("OptimusSignalUpdated")&&document.getElementById("optimus_pro_signals")){const{signals:s}=w;s.forEach(_=>{const{asset:m,asset_clr:c,range:u,fundamental:d,fundamental_clr:a,technical:o,technical_clr:n,sentiment:e,sentiment_clr:l,strategy:t,strategy_clr:i,volt:f,volt_clr:r}=_,p=m.toLowerCase();document.getElementById(`optimus_pro_signal_${p}_progress`).style.backgroundColor=c;const L=document.getElementById(`optimus_pro_signal_${p}_range`);L.innerText=u;const h=document.getElementById(`optimus_pro_signal_${p}_fundamental`);h.innerText=d;const y=document.getElementById(`optimus_pro_signal_${p}_technical`);y.innerText=o;const g=document.getElementById(`optimus_pro_signal_${p}_sentiment`);g.innerText=e;const v=document.getElementById(`optimus_pro_signal_${p}_strategy`);v.innerText=t,u?L.classList.remove("d-none"):L.classList.add("d-none"),d?(h.classList.remove("d-none"),d=="Buy"?(h.classList.add("btn-linkedin"),h.classList.remove("btn-danger")):(h.classList.add("btn-danger"),h.classList.remove("btn-linkedin"))):h.classList.add("d-none"),o?(y.classList.remove("d-none"),o=="Buy"?(y.classList.add("btn-linkedin"),y.classList.remove("btn-danger")):(y.classList.add("btn-danger"),y.classList.remove("btn-linkedin"))):y.classList.add("d-none"),e?(g.classList.remove("d-none"),e=="Buy"?(g.classList.add("btn-linkedin"),g.classList.remove("btn-danger")):(g.classList.add("btn-danger"),g.classList.remove("btn-linkedin"))):g.classList.add("d-none"),t?(v.classList.remove("d-none"),t=="Buy"?(v.classList.add("btn-linkedin"),v.classList.remove("btn-danger")):(v.classList.add("btn-danger"),v.classList.remove("btn-linkedin"))):v.classList.add("d-none")})}else if(b.includes("TradeBlotterUpdated")&&document.getElementById("optimus_pro_trade_blotters")){const s=document.getElementById("optimus_pro_trade_blotters"),_=document.getElementById("optimus_pro_trade_blotters_placeholder");for(;s.childElementCount>1;)s.removeChild(s.lastChild);const{signals:m}=w;m.forEach(c=>{const{id:u,asset:d,time:a,size:o,price:n,sl:e,tp:l,pl:t,size_clr:i,pl_clr:f}=c,r=_.cloneNode(!0);r.classList.remove("d-none"),r.querySelector("#placeholder_trade_blotters_asset").innerText=d,r.querySelector("#placeholder_trade_blotters_time").innerText=a,r.querySelector("#placeholder_trade_blotters_size").innerText=o,r.querySelector("#placeholder_trade_blotters_size").style.color=i,r.querySelector("#placeholder_trade_blotters_price").innerText=n,r.querySelector("#placeholder_trade_blotters_sl").innerText=e,r.querySelector("#placeholder_trade_blotters_tp").innerText=l,r.querySelector("#placeholder_trade_blotters_pl").innerText=t,r.querySelector("#placeholder_trade_blotters_pl").style.color=f,r.removeAttribute("id"),r.querySelectorAll("*").forEach(L=>{L.removeAttribute("id")}),s.appendChild(r)})}else if(b.includes("NewsDataUpdated")&&document.getElementById("optimus_pro_news_data")){const s=document.getElementById("optimus_pro_news_data"),_=document.getElementById("optimus_pro_news_data_placeholder");for(;s.childElementCount>1;)s.removeChild(s.lastChild);const{signals:m}=w;m.forEach(c=>{const{time:u,pair:d,impact:a,event:o,actual:n,forecast:e,previous:l}=c,t=_.cloneNode(!0);t.classList.remove("d-none"),t.querySelector("#placeholder_news_data_time").innerText=u,t.querySelector("#placeholder_news_data_event").innerText=o,t.querySelector("#placeholder_news_data_actual").innerText=n||"-",t.querySelector("#placeholder_news_data_forecast").innerText=e,t.querySelector("#placeholder_news_data_previous").innerText=l;const i=t.querySelector("#placeholder_news_data_impact");a==3?i.classList.add("text-danger"):a==2?i.classList.add("text-warning"):a==1?i.classList.add("text-success"):i.classList.add("text-muted"),t.removeAttribute("id"),t.querySelectorAll("*").forEach(r=>{r.removeAttribute("id")}),s.appendChild(t)}),$('[data-toggle="tooltip"]').tooltip()}else if(b.includes("CDLSignalUpdated")&&document.getElementById("optimus_pro_candle")){const s=document.getElementById("optimus_pro_candle"),_=document.getElementById("optimus_pro_candle_placeholder");for(;s.childElementCount>1;)s.removeChild(s.lastChild);const{signals:m}=w;m.forEach(a=>{const{cdl:o,cdl_clr:n}=a;if(!o)return;const e=_.cloneNode(!0);e.classList.remove("d-none"),e.querySelector("#optimus_pro_candle_asset").innerText=o,e.querySelector("#optimus_pro_candle_td").style.color=n;const l=e.querySelector("#optimus_pro_candle_signal_text");n=="crimson"?(l.querySelector(".is-bearish").classList.remove("d-none"),l.querySelector(".is-bullish").remove()):n=="forestgreen"&&(l.querySelector(".is-bullish").classList.remove("d-none"),l.querySelector(".is-bearish").remove()),e.removeAttribute("id"),e.querySelectorAll("*").forEach(i=>{i.removeAttribute("id")}),s.appendChild(e)});const c=document.getElementById("optimus_pro_investors"),u=document.getElementById("optimus_pro_investors_placeholder");for(;c.childElementCount>1;)c.removeChild(c.lastChild);const{signals:d}=w;d.forEach(a=>{const{bias:o,bias_clr:n}=a;if(!n)return;const e=u.cloneNode(!0);e.classList.remove("d-none"),e.querySelector("#optimus_pro_investors_asset").innerText=o,e.querySelector("#optimus_pro_investors_td").style.color=n;const l=e.querySelector("#optimus_pro_investors_signal_text");n=="lightsalmon"?(l.querySelector(".is-bearish").classList.remove("d-none"),l.querySelector(".is-bullish").remove(),l.querySelector(".is-neutral").remove()):n=="chartreuse"&&(l.querySelector(".is-bullish").classList.remove("d-none"),l.querySelector(".is-bearish").remove(),l.querySelector(".is-neutral").remove()),e.removeAttribute("id"),e.querySelectorAll("*").forEach(i=>{i.removeAttribute("id")}),c.appendChild(e)})}});
